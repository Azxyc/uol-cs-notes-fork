---
title: COMP111 - Derived Assertions Algorithm
tags: COMP111 Lectures
---
The following algorithm take as input the knowledge base {% raw %}\(K\){% endraw %} containing {% raw %}\(K_a\){% endraw %} and {% raw %}\(K_r\){% endraw %} and computes all assertions {% raw %}\(E(a)\){% endraw %} with {% raw %}\(E\){% endraw %} a class name and {% raw %}\(a\){% endraw %} an individual name such that {% raw %}\(K\models E(a)\){% endraw %}. This set is stored in: {% raw %}\[\text{DerivedAssertions}\]{% endraw %} In only remains to check whether {% raw %}\(A(b)\){% endraw %} is in {% raw %}\(\text{DerivedAssertions}\){% endraw %}. 

The algorithm computes the set {% raw %}\(\text{DerivedAssertions}\){% endraw %} by starting with {% raw %}\(K_a\){% endraw %} and then applying the rules {% raw %}\(K_r\){% endraw %} exhaustively to already derived atomic assertions.

```
Input: a knowledge base K containing assertions K_a and rules K_r
	
DerivedAssertions := K_a
repeat
	if there exits E(a) not in DerivedAssertions
		and A_1(x)^...^A_n(x) --> E(x) in K_r
		and A_1(x),...,A_n(x) in DerivedAssertions
	then 
		add E(a) to DerivedAssertions
		NewAssertion := true
	else 
		NewAssertion := false
	endif
until NewAssertion = false
return Derived Assertions
```

## Rule Application
In the algorithm above we say that:

{% raw %}\(E(a)\){% endraw %} is added to {% raw %}\(\text{DerivedAssertions}\){% endraw %} by applying the rule:
{% raw %}\[A_1(x)\wedge\ldots\wedge A_n\rightarrow E(x)\]{% endraw %}
to the atomic assertions:
{% raw %}\[A_1(x),\ldots,A_n\in\text{DerivedAssertions}\]{% endraw %}

### Example
Let:

* {% raw %}\(K_a=\{A_1(a)\}\){% endraw %}
* {% raw %}\(K_a=\{A_1(x)\rightarrow A_2(x),A_2(x)\rightarrow A_3(x)\}\){% endraw %}

In:

* First {% raw %}\(\text{DerivedAssertions}\){% endraw %} contains {% raw %}\(K_a\){% endraw %} only.

* Then an application of {% raw %}\(A_1(x)\rightarrow A_2(x)\){% endraw %} to {% raw %}\(A_1(a)\){% endraw %} adds {% raw %}\(A_2(a)\){% endraw %} to {% raw %}\(\text{DerivedAssertions}\){% endraw %}.

* Then an application of {% raw %}\(A_2(x)\rightarrow A_3(x)\){% endraw %} to {% raw %}\(A_2(a)\){% endraw %} adds {% raw %}\(A_3(a)\){% endraw %} to {% raw %}\(\text{DerivedAssertions}\){% endraw %}.

* Now no rule is applicable. Thus:
{% raw %}\[\text{DerivedAssertions}=\{A_1(a),A_2(a),A_3(a)\}\]{% endraw %}
is returned.
