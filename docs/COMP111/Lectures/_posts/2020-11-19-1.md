---
title: COMP111 - Conditional Probability
tags: COMP111 Lectures
---
Often we are interested in just part of the sample space. Conditional probability gives us a means of handling this situation.

## Example
Consider a family chosen at random from a set of families having two children (but not having twins). What is the probability that both children are boys?

A suitable sample space `{% raw %}\(S=\{BB,GB,BG,GG\}\){% endraw %}`.

It is reasonable to assume that `{% raw %}\(P(x)=\frac{1}{4}\){% endraw %}` for all `{% raw %}\(x\in S\){% endraw %}`.

Thus `{% raw %}\(P(BB)=\frac{1}{4}\){% endraw %}`.

Now you learn that the families were selected from those who have one child at a boys' school. Does this change probabilities.

The new sample space `{% raw %}\(S'=\{BB,GB,BG\}\){% endraw %}` and we re now looking for `{% raw %}\(P(BB\vert \text{at least one boy})+P(BB\vert S')\){% endraw %}`

The vertical line is read **given that**.

### Normalisation
`{% raw %}\(S'\){% endraw %}` is a subset of `{% raw %}\(S\){% endraw %}`, so every outcome `{% raw %}\(x\){% endraw %}` in `{% raw %}\(S'\){% endraw %}` is also in `{% raw %}\(S\){% endraw %}`. It probability `{% raw %}\(P(x)\in S\){% endraw %}` we can determine.

However, if we just take the sum of these probabilities, they will sum to less than 1. 

We therefore **normalise** by dividing the probability `{% raw %}\(P(x)\){% endraw %}` of the outcome `{% raw %}\(x\){% endraw %}` in `{% raw %}\(S\){% endraw %}` by the probability `{% raw %}\(P(S')\){% endraw %}` of `{% raw %}\(S'\){% endraw %}` in `{% raw %}\(S\){% endraw %}`:

`{% raw %}\[
P(BB\vert \text{at least one boy})=P(BB\vert S')=\frac{P(BB)}{P(S')}=\frac{\frac{1}{4}}{\frac{3}{4}}=\frac{1}{3}
\]{% endraw %}`

## Conditioning
Assume now that evens `{% raw %}\(A\){% endraw %}` and `{% raw %}\(B\){% endraw %}` are given.

Assume we know that `{% raw %}\(B\){% endraw %}` happens. So we want to condition on `{% raw %}\(B\){% endraw %}`. Thus, we want to know:

`{% raw %}\[P(A\vert B)\]{% endraw %}`

This is the probability that `{% raw %}\(A\){% endraw %}` occurs given that `{% raw %}\(B\){% endraw %}` is know to occur.

So we want to know the probability `{% raw %}\(P(A\cap B)\){% endraw %}`. (as we know that `{% raw %}\(B\){% endraw %}` occurs) after the conditioning on `{% raw %}\(B\){% endraw %}`.

We cant take `{% raw %}\(P(A\cap B)\){% endraw %}` grep -rliF '??????'itself but have to normalise by dividing by the probability of the new sample space `{% raw %}\(P(B)\){% endraw %}`:

`{% raw %}\[P(A\vert B)=\frac{P(A\cap B)}{P(B)}\]{% endraw %}`

### Formalised
Let `{% raw %}\(A\){% endraw %}` and `{% raw %}\(B\){% endraw %}` be events, with `{% raw %}\(P(B)>0\){% endraw %}`.

The conditional probability `{% raw %}\(P(A\vert B)\){% endraw %}` of `{% raw %}\(A\){% endraw %}` given `{% raw %}\(B\){% endraw %}` is given by: 

`{% raw %}\[P(A\vert B)=\frac{P(A\cap B)}{P(B)}\]{% endraw %}`

View [slide 27]({{site.baseurl}}/assets/COMP111/Lectures/2020-11-19.pdf) for additional example.
{:.info}

## Multiplication Rule
We can rewrite the previous equation like so:

`{% raw %}\[P(A\cap B)=P(A\vert B)P(B)\]{% endraw %}`

Or like:

`{% raw %}\[P(A\cap B)=P(B\vert A)P(A)\]{% endraw %}`

This rule can also be extended to more events:

`{% raw %}\[P(A\cap B\cap C)=P(C\vert B\cap A)P(A\cap B)=P(C\vert A\cap B)P(B\vert A)P(A)\]{% endraw %}`

### Example
Consider a family chosen at random from a set of families with just one pair of twins. What is the probability that both twins are boys?

Twins  are either identical `{% raw %}\(I\){% endraw %}` or fraternal `{% raw %}\(F\){% endraw %}`. We know that a third of human twins are identical:

`{% raw %}\[P(I)=\frac{1}{3},P(F)=\frac{2}{3}\]{% endraw %}`

and 

`{% raw %}\[P(BB)=P(I\cap BB) + P(F\cap BB)\]{% endraw %}`

By the multiplication rule:

`{% raw %}\[P(I\cap BB)= P(BB\vert I)P(I),\ P(F\cap BB) = P(BB\vert F)P(F)\]{% endraw %}`

The probability of being a girl of boy for fraternal twins will be the same as for any other two-child family. For the identical twins, the outcomes `{% raw %}\(BG\){% endraw %}` and `{% raw %}\(GB\){% endraw %}` are no longer possible thus:

`{% raw %}\[P(BB\vert I)=\frac{1}{2},\ P(BB\vert F)=\frac{1}{4}\]{% endraw %}`

From this we obtain:

`{% raw %}\[
\begin{aligned}
P(BB)&=P(I\cap BB) + P(F\cap BB)\\
&=P(BB\vert I)P(I)+ P(BB\vert F)P(F)\\
&=\frac{1}{2}\times\frac{1}{3}+\frac{1}{4}\times\frac{2}{3}\\
&=\frac{1}{3}
\end{aligned}
\]{% endraw %}`
