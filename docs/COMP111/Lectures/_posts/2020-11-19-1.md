---
title: COMP111 - Conditional Probability
tags: COMP111 Lectures
---
Often we are interested in just part of the sample space. Conditional probability gives us a means of handling this situation.

## Example
Consider a family chosen at random from a set of families having two children (but not having twins). What is the probability that both children are boys?

A suitable sample space {% raw %}<pre>\(S=\{BB,GB,BG,GG\}\)</pre>{% endraw %}.

It is reasonable to assume that {% raw %}<pre>\(P(x)=\frac{1}{4}\)</pre>{% endraw %} for all {% raw %}<pre>\(x\in S\)</pre>{% endraw %}.

Thus {% raw %}<pre>\(P(BB)=\frac{1}{4}\)</pre>{% endraw %}.

Now you learn that the families were selected from those who have one child at a boys' school. Does this change probabilities.

The new sample space {% raw %}<pre>\(S'=\{BB,GB,BG\}\)</pre>{% endraw %} and we re now looking for {% raw %}<pre>\(P(BB\vert \text{at least one boy})+P(BB\vert S')\)</pre>{% endraw %}

The vertical line is read **given that**.

### Normalisation
{% raw %}<pre>\(S'\)</pre>{% endraw %} is a subset of {% raw %}<pre>\(S\)</pre>{% endraw %}, so every outcome {% raw %}<pre>\(x\)</pre>{% endraw %} in {% raw %}<pre>\(S'\)</pre>{% endraw %} is also in {% raw %}<pre>\(S\)</pre>{% endraw %}. It probability {% raw %}<pre>\(P(x)\in S\)</pre>{% endraw %} we can determine.

However, if we just take the sum of these probabilities, they will sum to less than 1. 

We therefore **normalise** by dividing the probability {% raw %}<pre>\(P(x)\)</pre>{% endraw %} of the outcome {% raw %}<pre>\(x\)</pre>{% endraw %} in {% raw %}<pre>\(S\)</pre>{% endraw %} by the probability {% raw %}<pre>\(P(S')\)</pre>{% endraw %} of {% raw %}<pre>\(S'\)</pre>{% endraw %} in {% raw %}<pre>\(S\)</pre>{% endraw %}:

{% raw %}<pre>\[
P(BB\vert \text{at least one boy})=P(BB\vert S')=\frac{P(BB)}{P(S')}=\frac{\frac{1}{4}}{\frac{3}{4}}=\frac{1}{3}
\]</pre>{% endraw %}

## Conditioning
Assume now that evens {% raw %}<pre>\(A\)</pre>{% endraw %} and {% raw %}<pre>\(B\)</pre>{% endraw %} are given.

Assume we know that {% raw %}<pre>\(B\)</pre>{% endraw %} happens. So we want to condition on {% raw %}<pre>\(B\)</pre>{% endraw %}. Thus, we want to know:

{% raw %}<pre>\[P(A\vert B)\]</pre>{% endraw %}

This is the probability that {% raw %}<pre>\(A\)</pre>{% endraw %} occurs given that {% raw %}<pre>\(B\)</pre>{% endraw %} is know to occur.

So we want to know the probability {% raw %}<pre>\(P(A\cap B)\)</pre>{% endraw %}. (as we know that {% raw %}<pre>\(B\)</pre>{% endraw %} occurs) after the conditioning on {% raw %}<pre>\(B\)</pre>{% endraw %}.

We cant take {% raw %}<pre>\(P(A\cap B)\)</pre>{% endraw %} grep -rliF '??????'itself but have to normalise by dividing by the probability of the new sample space {% raw %}<pre>\(P(B)\)</pre>{% endraw %}:

{% raw %}<pre>\[P(A\vert B)=\frac{P(A\cap B)}{P(B)}\]</pre>{% endraw %}

### Formalised
Let {% raw %}<pre>\(A\)</pre>{% endraw %} and {% raw %}<pre>\(B\)</pre>{% endraw %} be events, with {% raw %}<pre>\(P(B)>0\)</pre>{% endraw %}.

The conditional probability {% raw %}<pre>\(P(A\vert B)\)</pre>{% endraw %} of {% raw %}<pre>\(A\)</pre>{% endraw %} given {% raw %}<pre>\(B\)</pre>{% endraw %} is given by: 

{% raw %}<pre>\[P(A\vert B)=\frac{P(A\cap B)}{P(B)}\]</pre>{% endraw %}

View [slide 27]({{site.baseurl}}/assets/COMP111/Lectures/2020-11-19.pdf) for additional example.
{:.info}

## Multiplication Rule
We can rewrite the previous equation like so:

{% raw %}<pre>\[P(A\cap B)=P(A\vert B)P(B)\]</pre>{% endraw %}

Or like:

{% raw %}<pre>\[P(A\cap B)=P(B\vert A)P(A)\]</pre>{% endraw %}

This rule can also be extended to more events:

{% raw %}<pre>\[P(A\cap B\cap C)=P(C\vert B\cap A)P(A\cap B)=P(C\vert A\cap B)P(B\vert A)P(A)\]</pre>{% endraw %}

### Example
Consider a family chosen at random from a set of families with just one pair of twins. What is the probability that both twins are boys?

Twins  are either identical {% raw %}<pre>\(I\)</pre>{% endraw %} or fraternal {% raw %}<pre>\(F\)</pre>{% endraw %}. We know that a third of human twins are identical:

{% raw %}<pre>\[P(I)=\frac{1}{3},P(F)=\frac{2}{3}\]</pre>{% endraw %}

and 

{% raw %}<pre>\[P(BB)=P(I\cap BB) + P(F\cap BB)\]</pre>{% endraw %}

By the multiplication rule:

{% raw %}<pre>\[P(I\cap BB)= P(BB\vert I)P(I),\ P(F\cap BB) = P(BB\vert F)P(F)\]</pre>{% endraw %}

The probability of being a girl of boy for fraternal twins will be the same as for any other two-child family. For the identical twins, the outcomes {% raw %}<pre>\(BG\)</pre>{% endraw %} and {% raw %}<pre>\(GB\)</pre>{% endraw %} are no longer possible thus:

{% raw %}<pre>\[P(BB\vert I)=\frac{1}{2},\ P(BB\vert F)=\frac{1}{4}\]</pre>{% endraw %}

From this we obtain:

{% raw %}<pre>\[
\begin{aligned}
P(BB)&=P(I\cap BB) + P(F\cap BB)\\
&=P(BB\vert I)P(I)+ P(BB\vert F)P(F)\\
&=\frac{1}{2}\times\frac{1}{3}+\frac{1}{4}\times\frac{2}{3}\\
&=\frac{1}{3}
\end{aligned}
\]</pre>{% endraw %}
