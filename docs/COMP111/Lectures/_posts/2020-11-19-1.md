---
title: COMP111 - Conditional Probability
tags: COMP111 Lectures
---
Often we are interested in just part of the sample space. Conditional probability gives us a means of handling this situation.

## Example
Consider a family chosen at random from a set of families having two children (but not having twins). What is the probability that both children are boys?

A suitable sample space &#92;(S=&#92;{BB,GB,BG,GG&#92;}&#92;).

It is reasonable to assume that &#92;(P(x)=&#92;frac{1}{4}&#92;) for all &#92;(x&#92;in S&#92;).

Thus &#92;(P(BB)=&#92;frac{1}{4}&#92;).

Now you learn that the families were selected from those who have one child at a boys' school. Does this change probabilities.

The new sample space &#92;(S'=&#92;{BB,GB,BG&#92;}&#92;) and we re now looking for &#92;(P(BB&#92;vert &#92;text{at least one boy})+P(BB&#92;vert S')&#92;)

The vertical line is read **given that**.

### Normalisation
&#92;(S'&#92;) is a subset of &#92;(S&#92;), so every outcome &#92;(x&#92;) in &#92;(S'&#92;) is also in &#92;(S&#92;). It probability &#92;(P(x)&#92;in S&#92;) we can determine.

However, if we just take the sum of these probabilities, they will sum to less than 1. 

We therefore **normalise** by dividing the probability &#92;(P(x)&#92;) of the outcome &#92;(x&#92;) in &#92;(S&#92;) by the probability &#92;(P(S')&#92;) of &#92;(S'&#92;) in &#92;(S&#92;):

&#92;[
P(BB&#92;vert &#92;text{at least one boy})=P(BB&#92;vert S')=&#92;frac{P(BB)}{P(S')}=&#92;frac{&#92;frac{1}{4}}{&#92;frac{3}{4}}=&#92;frac{1}{3}
&#92;]

## Conditioning
Assume now that evens &#92;(A&#92;) and &#92;(B&#92;) are given.

Assume we know that &#92;(B&#92;) happens. So we want to condition on &#92;(B&#92;). Thus, we want to know:

&#92;[P(A&#92;vert B)&#92;]

This is the probability that &#92;(A&#92;) occurs given that &#92;(B&#92;) is know to occur.

So we want to know the probability &#92;(P(A&#92;cap B)&#92;). (as we know that &#92;(B&#92;) occurs) after the conditioning on &#92;(B&#92;).

We cant take &#92;(P(A&#92;cap B)&#92;) grep -rliF ' $ 'itself but have to normalise by dividing by the probability of the new sample space &#92;(P(B)&#92;):

&#92;[P(A&#92;vert B)=&#92;frac{P(A&#92;cap B)}{P(B)}&#92;]

### Formalised
Let &#92;(A&#92;) and &#92;(B&#92;) be events, with &#92;(P(B)>0&#92;).

The conditional probability &#92;(P(A&#92;vert B)&#92;) of &#92;(A&#92;) given &#92;(B&#92;) is given by: 

&#92;[P(A&#92;vert B)=&#92;frac{P(A&#92;cap B)}{P(B)}&#92;]

View [slide 27]({{site.baseurl}}/assets/COMP111/Lectures/2020-11-19.pdf) for additional example.
{:.info}

## Multiplication Rule
We can rewrite the previous equation like so:

&#92;[P(A&#92;cap B)=P(A&#92;vert B)P(B)&#92;]

Or like:

&#92;[P(A&#92;cap B)=P(B&#92;vert A)P(A)&#92;]

This rule can also be extended to more events:

&#92;[P(A&#92;cap B&#92;cap C)=P(C&#92;vert B&#92;cap A)P(A&#92;cap B)=P(C&#92;vert A&#92;cap B)P(B&#92;vert A)P(A)&#92;]

### Example
Consider a family chosen at random from a set of families with just one pair of twins. What is the probability that both twins are boys?

Twins  are either identical &#92;(I&#92;) or fraternal &#92;(F&#92;). We know that a third of human twins are identical:

&#92;[P(I)=&#92;frac{1}{3},P(F)=&#92;frac{2}{3}&#92;]

and 

&#92;[P(BB)=P(I&#92;cap BB) + P(F&#92;cap BB)&#92;]

By the multiplication rule:

&#92;[P(I&#92;cap BB)= P(BB&#92;vert I)P(I),&#92; P(F&#92;cap BB) = P(BB&#92;vert F)P(F)&#92;]

The probability of being a girl of boy for fraternal twins will be the same as for any other two-child family. For the identical twins, the outcomes &#92;(BG&#92;) and &#92;(GB&#92;) are no longer possible thus:

&#92;[P(BB&#92;vert I)=&#92;frac{1}{2},&#92; P(BB&#92;vert F)=&#92;frac{1}{4}&#92;]

From this we obtain:

&#92;[
&#92;begin{aligned}
P(BB)&=P(I&#92;cap BB) + P(F&#92;cap BB)&#92;&#92;
&=P(BB&#92;vert I)P(I)+ P(BB&#92;vert F)P(F)&#92;&#92;
&=&#92;frac{1}{2}&#92;times&#92;frac{1}{3}+&#92;frac{1}{4}&#92;times&#92;frac{2}{3}&#92;&#92;
&=&#92;frac{1}{3}
&#92;end{aligned}
&#92;]
