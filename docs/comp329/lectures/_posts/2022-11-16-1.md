---
title: Building Maps
tags: COMP329 Lectures
---
We have seen a couple of types of maps in prior lectures:

* [Connecting Features]({{site.baseurl}}/comp329/lectures/2022/11/02/1.html)
* [Maps, Navigation & Path-finding]({{site.baseurl}}/comp329/lectures/2022/11/03/1.html)

this covers how to make these types of maps.

## The General Mapping Problem

We can create a map from a **run** of:

* **Controls** (poses).
* **Observations**

Given the sensor data and poses, we want to calculate a map with the maximum likelihood given the data.

## 2D Volumetric Maps
This map assumes the world is a discrete set of cells:

* Each cell is either white (empty), or black (occupied).

### Counting Model
You drive around, keeping track of where you are, and looking at each cell:

* You keep count of how many times you detect an obstacle in a cell.
* You increase the count each time you detect an object in it.
* You decrease the count for the cell each time you detect that it is clear.

By also counting how many times you have seen the cell (the **count**), you can estimate the probability that the cell is occupied.

Given that $M$ is a matrix of **measurements** and $C$ is a matrix of **counts**, we can calculate the probability that the cell is occupied like so:

$$
P(m_{x,y})=\frac{M_{x,y}+C_{x,y}}{2C_{x,y}}
$$

